<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KET Oral Fun: Me & School</title>
  <style>
    :root {
      /* æ›´åŠ æ˜äº®çš„å°‘å„¿é…è‰² */
      --bg-main: #F0F9FF;
      --primary-blue: #3FC1C9;
      --soft-pink: #FC5185;
      --lemon: #F5D033;
      --grass: #43D854;
      --text: #364F6B;
      --card-shadow: 0 10px 25px rgba(63,193,201,0.15);
      --radius: 24px;
    }

    * { box-sizing: border-box; font-family: 'Segoe UI', Rounded, sans-serif; }
    body { 
        margin: 0; background: var(--bg-main); color: var(--text); overflow: hidden; 
        background-image: radial-gradient(#3fc1c922 2px, transparent 2px);
        background-size: 30px 30px;
    }

    /* é¡¶éƒ¨å¯¼èˆªä¸å¥–åŠ±ç³»ç»Ÿ */
    .header {
        position: fixed; top: 0; width: 100%; height: 60px;
        display: flex; align-items: center; justify-content: space-between;
        padding: 0 25px; background: rgba(255,255,255,0.9);
        backdrop-filter: blur(10px); z-index: 100; border-bottom: 2px solid #eee;
    }
    .star-counter { display: flex; align-items: center; gap: 8px; cursor: pointer; }
    .star-btn { font-size: 24px; transition: transform 0.2s; }
    .star-btn:active { transform: scale(1.4); }

    /* å¹»ç¯ç‰‡å®¹å™¨ */
    #deck { height: 100vh; display: flex; align-items: center; justify-content: center; }
    .slide { 
        width: 90%; height: 80%; display: none; 
        grid-template-columns: 1fr 1fr; gap: 30px; padding: 40px;
        background: white; border-radius: var(--radius); box-shadow: var(--card-shadow);
    }
    .slide.active { display: grid; animation: popIn 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28); }
    @keyframes popIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

    /* å…¨å±€ç»„ä»¶æ ·å¼ */
    h1 { color: var(--primary-blue); font-size: 36px; margin: 0 0 15px; }
    .mission-box { background: var(--lemon); padding: 15px; border-radius: 15px; font-weight: bold; border: 2px dashed #333; }
    .interactive-card { 
        border: 2px solid #F0F0F0; border-radius: 20px; padding: 20px; 
        transition: 0.3s; cursor: pointer; text-align: center;
    }
    .interactive-card:hover { border-color: var(--primary-blue); background: #F9FFFF; }
    
    /* å¤–æ•™æç¤ºåŒº */
    .teacher-bar {
        position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
        width: 80%; background: #364F6B; color: white; padding: 10px 25px;
        border-radius: 50px; font-size: 14px; display: flex; align-items: center; gap: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 99;
    }
    .ft-tag { background: var(--soft-pink); padding: 2px 10px; border-radius: 5px; font-weight: bold; }

    /* åº•éƒ¨æ§åˆ¶æ  */
    .controls {
        position: fixed; bottom: 0; width: 100%; height: 70px;
        background: white; display: flex; align-items: center; justify-content: center; gap: 40px;
    }
    .nav-btn {
        padding: 10px 25px; border-radius: 50px; border: none;
        background: var(--primary-blue); color: white; font-weight: bold; cursor: pointer;
    }
    .nav-btn:disabled { background: #ccc; }

    /* è¯æ±‡ç¿»ç‰Œå¢å¼º */
    .cards-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
    .vocab-flip {
        perspective: 1000px; height: 120px;
    }
    .flip-inner {
        position: relative; width: 100%; height: 100%; transition: transform 0.6s;
        transform-style: preserve-3d; cursor: pointer;
    }
    .vocab-flip.on .flip-inner { transform: rotateY(180deg); }
    .flip-front, .flip-back {
        position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
        border-radius: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center;
        border: 2px solid var(--primary-blue); background: white;
    }
    .flip-back { transform: rotateY(180deg); background: var(--primary-blue); color: white; }

    /* è®¡æ—¶å™¨åœˆåŠ¨ç”» */
    .timer-ring {
        width: 200px; height: 200px; border-radius: 50%;
        border: 10px solid #eee; display: flex; align-items: center; justify-content: center;
        font-size: 48px; font-weight: bold; position: relative;
    }
    .timer-ring::after {
        content: ''; position: absolute; inset: -10px; border-radius: 50%;
        border: 10px solid var(--soft-pink); border-top-color: transparent;
        animation: spin 1s linear infinite; display: none;
    }
    .timer-ring.active::after { display: block; }

  </style>
</head>
<body>

  <div class="header">
    <div style="font-weight:bold; color:var(--primary-blue)">KET Oral: About Me & School</div>
    <div class="star-counter" onclick="addStar()">
        <span id="starCount" style="font-weight:bold; font-size:20px; color:var(--lemon)">0</span>
        <span class="star-btn">â­</span>
    </div>
  </div>

  <div id="deck">
    <section class="slide active" data-ft="Greet the student! Ask: 'How are you?' and high-five ğŸ¤š">
        <div style="display: flex; flex-direction: column; justify-content: center;">
            <h1>ğŸ‘‹ Hello!</h1>
            <p style="font-size: 24px;">Welcome to KET Speaking!</p>
            <div class="mission-box">ğŸ¯ Today's Mission: Talk for 50 seconds!</div>
        </div>
        <div>
            
            <div class="interactive-card" style="margin-top:20px;" onclick="this.style.background='#ffeaa7'">
                ğŸ—£ï¸ "I'm ready! Let's go!"
            </div>
        </div>
    </section>

    <section class="slide" data-ft="Click the cards! Let the student say the word, then flip to check.">
        <div>
            <h1>ğŸ“¦ Personal Words</h1>
            <p>Click and Reveal!</p>
            <div class="cards-container" id="vocabBox">
                </div>
        </div>
        <div>
            
            <div style="margin-top:20px;" class="mission-box">
                Can you find "Family"? <br>
                Who do you live with?
            </div>
        </div>
    </section>

    <section class="slide" data-ft="Help the student expand! 'I like English' -> 'I like English BECAUSE...' ">
        <div>
            <h1>âœ¨ Magic Word</h1>
            <div style="font-size: 50px; text-align: center; color: var(--soft-pink); font-weight: bold;">BECAUSE</div>
            <div class="interactive-card" style="margin-top:20px; text-align: left;">
                "I like my school..." <br>
                â¬‡ï¸ <br>
                "I like my school <b>because</b> it is big!"
            </div>
        </div>
        <div>
           
            <div class="mission-box" style="background:var(--primary-blue); color:white; border:none;">
                ğŸ—£ï¸ Your Turn! <br>
                "I like PE because..."
            </div>
        </div>
    </section>

    <section class="slide" data-ft="Final Test! Don't interrupt. Use the timer. Give stars after! ğŸ†">
        <div style="text-align:center">
            <h1>ğŸ† Final Challenge</h1>
            <div class="timer-ring" id="finalTimer">50</div>
            <div style="margin-top:20px;">
                <button class="nav-btn" onclick="startFinalTimer(50)">START!</button>
            </div>
        </div>
        <div>
            <div class="mission-box">
                ğŸ“ Checklist:<br>
                1. Name & Age<br>
                2. Live (where/who)<br>
                3. School & Subject<br>
                4. Why? (Because!)
            </div>
            
        </div>
    </section>
  </div>

  <div class="teacher-bar">
    <span class="ft-tag">FT PROP</span>
    <span id="ftScript">Greet the student! Ask: 'How are you?' and high-five ğŸ¤š</span>
  </div>

  <div class="controls">
    <button class="nav-btn" id="prevBtn" onclick="prevSlide()">PREV</button>
    <div id="pageDots"></div>
    <button class="nav-btn" id="nextBtn" onclick="nextSlide()">NEXT</button>
  </div>

  <script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const ftScript = document.getElementById('ftScript');
    let stars = 0;

    // å¥–åŠ±ç³»ç»Ÿ
    function addStar() {
        stars++;
        document.getElementById('starCount').innerText = stars;
        // ç®€å•çš„ç²’å­æ•ˆæœæˆ–å£°éŸ³å¯ä»¥åœ¨è¿™é‡Œå¢åŠ 
    }

    // å¯¼èˆª
    function showSlide(n) {
        slides[currentSlide].classList.remove('active');
        currentSlide = n;
        slides[currentSlide].classList.add('active');
        
        // æ›´æ–°å¤–æ•™æç¤º
        ftScript.innerText = slides[currentSlide].dataset.ft;
        
        // æ§åˆ¶æŒ‰é’®çŠ¶æ€
        document.getElementById('prevBtn').disabled = currentSlide === 0;
        document.getElementById('nextBtn').disabled = currentSlide === slides.length - 1;
    }

    function nextSlide() { if(currentSlide < slides.length - 1) showSlide(currentSlide + 1); }
    function prevSlide() { if(currentSlide > 0) showSlide(currentSlide - 1); }

    // è¯æ±‡ç¿»ç‰Œæ•°æ®
    const vocabs = [
        {f: "ğŸ  Home", b: "I live in..."},
        {f: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ Family", b: "I live with..."},
        {f: "ğŸ¨ Hobby", b: "I like..."},
        {f: "ğŸ’ School", b: "My school is..."},
        {f: "ğŸ“– Subject", b: "My favorite is..."},
        {f: "ğŸ‘¤ Name", b: "Call me..."}
    ];

    const vocabBox = document.getElementById('vocabBox');
    vocabs.forEach(item => {
        const div = document.createElement('div');
        div.className = 'vocab-flip';
        div.innerHTML = `
            <div class="flip-inner" onclick="this.parentElement.classList.toggle('on')">
                <div class="flip-front"><b>${item.f}</b></div>
                <div class="flip-back"><span>${item.b}</span></div>
            </div>
        `;
        vocabBox.appendChild(div);
    });

    // è®¡æ—¶å™¨
    function startFinalTimer(sec) {
        const ring = document.getElementById('finalTimer');
        ring.classList.add('active');
        let timeLeft = sec;
        const timer = setInterval(() => {
            timeLeft--;
            ring.innerText = timeLeft;
            if(timeLeft <= 0) {
                clearInterval(timer);
                ring.classList.remove('active');
                ring.innerText = "ğŸ‰";
                alert("Time's Up! Great Job!");
            }
        }, 1000);
    }
  </script>
</body>
</html>